<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>SMK Afboekingen & Q&A Callflow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #0f172a;
      --bg-alt: #020617;
      --card-bg: #0b1220;
      --card-alt: #020617;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.15);
      --accent-strong: #0ea5e9;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --text-main: #e5e7eb;
      --text-muted: #94a3b8;
      --text-soft: #64748b;
      --danger: #fb7185;
      --shadow-soft: 0 22px 45px rgba(15, 23, 42, 0.85);
      --radius-lg: 18px;
      --radius-xl: 22px;
      --radius-pill: 999px;
    }
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 42%, #020617 100%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: 24px;
    }
    .app-shell {
      max-width: 1320px;
      width: 100%;
      min-height: 720px;
      background: linear-gradient(145deg, rgba(15,23,42,0.96), rgba(15,23,42,0.99));
      border-radius: 26px;
      padding: 18px 18px 16px;
      border: 1px solid rgba(148, 163, 184, 0.25);
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 14px;
      position: relative;
      overflow: hidden;
    }
    .app-shell::before {
      content: "";
      position: absolute;
      inset: -120px;
      background:
        radial-gradient(circle at 0% -10%, rgba(56,189,248,0.15) 0, transparent 55%),
        radial-gradient(circle at 120% 0%, rgba(129,140,248,0.16) 0, transparent 45%);
      opacity: 0.55;
      pointer-events: none;
      z-index: 0;
    }
    header.app-header {
      position: relative;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 8px 10px 2px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.22);
    }
    .title-block {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .title-logo {
      width: 36px;
      height: 36px;
      border-radius: 14px;
      border: 1px solid rgba(56,189,248,0.7);
      background:
        radial-gradient(circle at 0 0, rgba(56,189,248,0.6), transparent 55%),
        radial-gradient(circle at 110% 120%, rgba(94,234,212,0.5), transparent 50%),
        #020617;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 12px 32px rgba(15,23,42,0.85);
    }
    .title-logo span {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.06em;
      color: #e0f2fe;
    }
    .title-text h1 {
      margin: 0 0 2px;
      font-size: 18px;
      letter-spacing: 0.02em;
      display: flex;
      align-items: baseline;
      gap: 8px;
    }
    .pill {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
    }
    .title-sub {
      margin: 0;
      font-size: 12px;
      color: var(--text-muted);
    }

    .header-tools {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 11px;
      color: var(--text-soft);
    }
    .back-link {
      text-decoration: none;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(56,189,248,0.8);
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.25), #020617);
      color: #e0f2fe;
      box-shadow: 0 0 0 1px rgba(56,189,248,0.4);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }
    .back-link:hover {
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.35), #020617);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.7);
    }

    .status-indicator {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 9px 4px 5px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.32), transparent 60%);
      border: 1px solid rgba(56,189,248,0.6);
    }
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 8px rgba(34,197,94,0.9);
    }
    .layout {
      position: relative;
      z-index: 1;
      flex: 1;
      display: grid;
      grid-template-columns: minmax(260px, 290px) minmax(0, 1fr);
      gap: 14px;
      padding-bottom: 4px;
    }
    aside.sidebar {
      background: linear-gradient(160deg, rgba(15,23,42,0.98), rgba(15,23,42,0.96));
      border-radius: 22px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      padding: 12px 12px 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      box-shadow: 0 18px 30px rgba(15,23,42,0.9);
    }
    .sidebar-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-soft);
      margin-bottom: 4px;
    }
    .search-box {
      position: relative;
      margin-bottom: 2px;
    }
    .search-box input {
      width: 100%;
      padding: 9px 9px 9px 26px;
      font-size: 12px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.98), rgba(15,23,42,0.96));
      color: var(--text-main);
      outline: none;
    }
    .search-box input::placeholder {
      color: var(--text-soft);
    }
    .search-icon {
      position: absolute;
      left: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 13px;
      color: var(--text-soft);
    }
    .topic-list {
      margin: 2px 0 0;
      padding: 0;
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 4px;
      max-height: calc(100vh - 290px);
      overflow: auto;
      scrollbar-color: rgba(148,163,184,0.7) transparent;
      scrollbar-width: thin;
    }
    .topic-item {
      border-radius: 12px;
      padding: 7px 9px;
      border: 1px solid transparent;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      transition: all 0.16s ease-out;
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.8), rgba(15,23,42,0.95));
    }
    .topic-item:hover {
      border-color: rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at 0 0, rgba(30,64,175,0.65), rgba(15,23,42,0.98));
    }
    .topic-item.active {
      border-color: rgba(56, 189, 248, 0.95);
      background:
        radial-gradient(circle at 0 0, rgba(56,189,248,0.7), rgba(15,23,42,0.94));
      box-shadow: 0 0 0 1px rgba(56,189,248,0.4);
    }
    .topic-name {
      font-size: 13px;
    }
    .topic-meta {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }
    .topic-count {
      padding: 1px 6px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.6);
    }
    .topic-chip {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      padding: 2px 6px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.5);
    }
    .legend {
      border-top: 1px dashed rgba(148, 163, 184, 0.35);
      padding-top: 6px;
      margin-top: 4px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .legend-item {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 10px;
      color: var(--text-soft);
      padding: 3px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.3);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.96), rgba(15,23,42,0.98));
    }
    .legend-dot {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 1px solid rgba(148, 163, 184, 0.5);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
    }
    .legend-dot.code-1 { background: radial-gradient(circle, rgba(59,130,246,0.4), #0b1120); }
    .legend-dot.code-2 { background: radial-gradient(circle, rgba(56,189,248,0.38), #0b1120); }
    .legend-dot.code-3 { background: radial-gradient(circle, rgba(16,185,129,0.46), #022c22); }
    .legend-dot.code-4 { background: radial-gradient(circle, rgba(52,211,153,0.4), #052e16); }
    .legend-dot.code-5 { background: radial-gradient(circle, rgba(244,234,138,0.5), #111827); }
    .legend-dot.code-6 { background: radial-gradient(circle, rgba(251,191,36,0.5), #1f2937); }
    .legend-dot.code-7 { background: radial-gradient(circle, rgba(249,115,22,0.46), #111827); }
    .legend-dot.code-8 { background: radial-gradient(circle, rgba(244,114,182,0.46), #1f2937); }
    .legend-dot.code-9 { background: radial-gradient(circle, rgba(129,140,248,0.5), #020617); }
    .legend-dot.code-10 { background: radial-gradient(circle, rgba(248,113,113,0.55), #111827); }

    main.content {
      background: radial-gradient(circle at top left, rgba(15,23,42,0.94), rgba(15,23,42,0.99));
      border-radius: 22px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      padding: 12px 14px 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }
    .content-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      padding-bottom: 4px;
      border-bottom: 1px dashed rgba(148, 163, 184, 0.35);
    }
    .content-title-block h2 {
      margin: 0 0 2px;
      font-size: 16px;
    }
    .content-title-block p {
      margin: 0;
      font-size: 12px;
      color: var(--text-muted);
    }
    .content-meta {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
      font-size: 11px;
      color: var(--text-soft);
    }
    .badge-light {
      padding: 2px 7px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.96), rgba(15,23,42,0.99));
    }
    .subtypes-scroll {
      flex: 1;
      overflow: auto;
      padding-right: 4px;
      padding-bottom: 4px;
      scrollbar-color: rgba(148,163,184,0.7) transparent;
      scrollbar-width: thin;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .subtype-card {
      background: linear-gradient(150deg, rgba(15,23,42,0.98), rgba(15,23,42,1));
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.38);
      box-shadow: 0 14px 30px rgba(15,23,42,0.9);
      padding: 8px 10px 8px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      position: relative;
      overflow: hidden;
    }
    .subtype-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 10% 0%, rgba(56,189,248,0.18), transparent 60%),
        radial-gradient(circle at 100% 120%, rgba(56,189,248,0.12), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
      z-index: 0;
    }
    .subtype-header {
      position: relative;
      z-index: 1;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
    .subtype-name {
      font-size: 14px;
      font-weight: 600;
    }
    .subtype-meta {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }
    .code-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 8px 2px 4px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle, rgba(15,23,42,0.96), rgba(15,23,42,1));
    }
    .code-dot {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.85);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      box-shadow: 0 0 0 1px rgba(15,23,42,1), 0 0 12px rgba(56,189,248,0.7);
      background: radial-gradient(circle at 30% 0%, rgba(56,189,248,0.7), #020617);
    }
    .qa-count-pill {
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.55);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }
    .qa-container {
      position: relative;
      z-index: 1;
      margin-top: 2px;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.32);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.97), rgba(15,23,42,0.99));
      padding: 6px 7px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .qa-item {
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.98), rgba(15,23,42,1));
      overflow: hidden;
    }
    .qa-summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      padding: 6px 8px;
      cursor: pointer;
      font-size: 13px;
    }
    .qa-summary:hover {
      background: radial-gradient(circle at 0 0, rgba(30,64,175,0.6), rgba(15,23,42,1));
    }
    .qa-question {
      font-weight: 500;
    }
    .qa-topic-label {
      font-size: 10px;
      color: var(--text-soft);
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
    }
    .qa-chevron {
      font-size: 12px;
      color: var(--text-soft);
      flex-shrink: 0;
      transition: transform 0.16s ease-out;
    }
    .qa-item.open .qa-chevron {
      transform: rotate(90deg);
    }
    .qa-body {
      padding: 6px 8px 7px;
      border-top: 1px solid rgba(30, 64, 175, 0.85);
      font-size: 12px;
      color: var(--text-main);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,1), #020617);
    }
    .qa-answer {
      white-space: pre-line;
      line-height: 1.45;
    }
    .qa-note {
      margin-top: 5px;
      font-size: 11px;
      color: var(--text-muted);
      border-left: 2px solid rgba(56,189,248,0.7);
      padding-left: 6px;
    }
    .qa-actions {
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: var(--text-soft);
    }
    .copy-btn {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(56,189,248,0.85);
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.2), #020617);
      color: #e0f2fe;
      font-size: 11px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    .copy-btn:hover {
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.28), #020617);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.65);
    }
    .copy-icon {
      font-size: 12px;
    }
    .empty-state {
      padding: 6px 8px;
      font-size: 12px;
      color: var(--text-soft);
      border-radius: 12px;
      border: 1px dashed rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 0 0, rgba(15,23,42,0.98), rgba(15,23,42,1));
    }
    footer.app-footer {
      position: relative;
      z-index: 1;
      padding-top: 3px;
      border-top: 1px dashed rgba(148, 163, 184, 0.35);
      font-size: 10px;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      color: var(--text-soft);
    }
    .foot-right {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .foot-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.85);
      box-shadow: 0 0 8px rgba(56,189,248,0.9);
    }

    @media (max-width: 960px) {
      body {
        padding: 10px;
      }
      .app-shell {
        padding: 10px;
      }
      .layout {
        grid-template-columns: 1fr;
      }
      aside.sidebar {
        order: 1;
      }
      main.content {
        order: 2;
      }
      .header-tools {
        flex-direction: column-reverse;
        align-items: flex-end;
      }
      .back-link {
        width: 100%;
        justify-content: center;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="title-block">
        <div class="title-logo">
          <span>SMK</span>
        </div>
        <div class="title-text">
          <h1>
            Afboekingen &amp; Q&amp;A
            <span class="pill">Puzzel ¬∑ Servicedesk callflow</span>
          </h1>
          <p class="title-sub">
            Kies eerst een onderwerp, daarna een subtype. Klik op een vraag om het voorbeeldantwoord te openen.
          </p>
        </div>
      </div>
      <div class="header-tools">
        <a href="index.html" class="back-link">‚Üê Terug naar SMK Tools</a>
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span>Interactief ¬∑ Klaar voor gebruik</span>
        </div>
      </div>
    </header>

    <div class="layout">
      <aside class="sidebar">
        <div>
          <div class="sidebar-section-title">Zoeken binnen huidige onderwerp</div>
          <div class="search-box">
            <span class="search-icon">üîç</span>
            <input id="searchInput" type="text" placeholder="Zoek op vraag of tekst..." />
          </div>
        </div>
        <div>
          <div class="sidebar-section-title">Onderwerpen / casetypes</div>
          <ul id="topicList" class="topic-list"></ul>
        </div>
        <div>
          <div class="sidebar-section-title">Afboekcodes (voorstel ContactWorx)</div>
          <div class="legend">
            <div class="legend-item"><span class="legend-dot code-1">1</span> Klacht / bijzonder</div>
            <div class="legend-item"><span class="legend-dot code-2">2</span> Gegevens &amp; account</div>
            <div class="legend-item"><span class="legend-dot code-3">3</span> Bestellen / betaling</div>
            <div class="legend-item"><span class="legend-dot code-4">4</span> Vervangen kaart</div>
            <div class="legend-item"><span class="legend-dot code-5">5</span> Verlengen</div>
            <div class="legend-item"><span class="legend-dot code-6">6</span> Opzegging</div>
            <div class="legend-item"><span class="legend-dot code-7">7</span> Algemeen / overig</div>
            <div class="legend-item"><span class="legend-dot code-8">8</span> Binnen via mail</div>
            <div class="legend-item"><span class="legend-dot code-9">9</span> Digitale kaart / app</div>
            <div class="legend-item"><span class="legend-dot code-10">10</span> Bugs / issues</div>
          </div>
        </div>
      </aside>

      <main class="content">
        <div class="content-header">
          <div class="content-title-block">
            <h2 id="contentTitle">Kies links een onderwerp</h2>
            <p id="contentSubtitle">Onderwerpen en subtypes verschijnen hier zodra je een casetype selecteert.</p>
          </div>
          <div class="content-meta">
            <div class="badge-light" id="metaCounts">0 subtypes ¬∑ 0 Q&amp;A</div>
            <div class="badge-light">Tip: gebruik de kopieerknop onder elk antwoord.</div>
          </div>
        </div>
        <div id="subtypesContainer" class="subtypes-scroll">
          <div class="empty-state">
            Nog niets geselecteerd. Kies een onderwerp in de linker kolom om de bijbehorende subtypes en standaardantwoorden te zien.
          </div>
        </div>
      </main>
    </div>

    <footer class="app-footer">
      <span>Bron: SMK afboekingen &amp; standaard Q&amp;A ¬∑ Versie 1.3</span>
      <div class="foot-right">
        <span class="foot-dot"></span>
        <span>HTML-callflow ¬∑ GitHub compatible</span>
      </div>
    </footer>
  </div>

  <script>
    const DATA = [
      {
        "name": "Algemene informatie Museumkaart",
        "subtypes": [
          {
            "name": "Klacht",
            "code": "1",
            "qa": [
              {
                "topic": "Algemene informatie Museumkaart",
                "question": "Ik heb een klacht over de website",
                "answer": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van Koen van Veen gezet worden. Hij behandeld deze zaken voor Musenkaart.",
                "note": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van Romano gezet worden. Hij behandeld deze zaken voor Museumkaart."
              },
              {
                "topic": "Algemene informatie Museumkaart",
                "question": "Ik heb een klacht over een museum",
                "answer": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van Koen van Veen gezet worden. Hij behandeld deze zaken voor Musenkaart.",
                "note": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van Romano gezet worden. Hij behandeld deze zaken voor Museumkaart."
              },
              {
                "topic": "Algemene informatie Museumkaart",
                "question": "Ik kom er met de klantenservice niet uit en wil dat er per direct contact met mij opgenomen worden door een leidinggevende",
                "answer": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van je leidinggevende gezet worden en die pakt dit verder op. Mocht hij/zij er ook niet uitkomen, dan kan de klacht op naam van Koen van Veen gezet worden. Hij behandeld deze zaken voor Musenkaart.",
                "note": "Dat is vervelend om te horen. Ik noteer uw gegevens en maak hier een klacht van. Deze geef ik door aan mijn collega. \n\nGeef naast de contactgegevens ook een heldere omschrijving van wat exact de klacht is. \n\nDe case kan vervolgens op naam van Romano gezet worden. Hij behandeld deze zaken voor Museumkaart."
              }
            ]
          },
          {
            "name": "Overig",
            "code": "7",
            "qa": [
              {
                "topic": "Algemene informatie Museumkaart",
                "question": "Algemene voorwaarden",
                "answer": "Hartelijk dank voor het bericht.\n\nVoor de meest recente versie van de algemene voorwaarden verwijzen we je graag door naar https://www.museum.nl/nl/gebruiksvoorwaarden",
                "note": ""
              },
              {
                "topic": "Algemene informatie Museumkaart",
                "question": "Beveiliging persoonsgegevens",
                "answer": "We houden de digitale foto vast in ons bestand zo lang als je een geldige Museumkaart hebt. Deze foto wordt elk jaar opnieuw gebruikt om op de nieuwe pas te printen. Wij doen uiteraard ons uiterste best om veilig met al je gegevens om te gaan. Zie ook ons privacy statement. Museumkaart neemt alle passende technische en organisatorische maatregelen om de persoonsgegevens, die worden verwerkt te beveiligen en beveiligd te houden tegen verlies of tegen enige vorm van onzorgvuldig, ondeskundig of ongeoorloofd gebruik. Deze maatregelen garanderen een passend beveiligingsniveau gelet op de aard van de persoonsgegevens die worden verwerkt. Wij voldoen hierbij aan de geldende wet en regelgeving. Wij kunnen niet alle maatregelen met je delen, omdat dat onze beveiliging zou kunnen compromitteren. Enkele voorbeelden van onze maatregelen zijn:\n- Persoonsgegevens worden uitsluitend verwerkt in een beveiligde omgeving met bescherming tegen bedreigingen van buitenaf;\n- Persoonsgegevens worden uitsluitend verwerkt op apparatuur waarbij maatregelen zijn genomen om de apparatuur fysiek te beveiligen en de continu√Øteit van de dienstverlening te verzekeren;\n- Alleen bevoegd personeel heeft toegang tot persoonsgegevens om onrechtmatige verwerking te voorkomen;\n- Versleutelde verbindingen voor de uitwisseling van gegevens en inlogprocessen.",
                "note": ""
              }
            ]
          }
        ]
      },
      /* HIER GAAT JOUW HELE DATA-ARRAY VERDER ‚Äì dit is exact de versie uit je oude bestand.
         Laat alles staan totdat de array sluit met ] en het script daaronder verdergaat.
         (Ik heb hem hier afgekapt om het bericht niet *te* gigantisch te maken, maar in jouw bestand
          staat alles al goed.) */
    ];

    const topicListEl = document.getElementById("topicList");
    const subtypesContainer = document.getElementById("subtypesContainer");
    const contentTitle = document.getElementById("contentTitle");
    const contentSubtitle = document.getElementById("contentSubtitle");
    const metaCounts = document.getElementById("metaCounts");
    const searchInput = document.getElementById("searchInput");

    let currentTopicIndex = -1;
    let currentSearch = "";

    function renderTopics() {
      topicListEl.innerHTML = "";
      DATA.forEach((topic, index) => {
        const li = document.createElement("li");
        li.className = "topic-item";
        li.dataset.index = index;

        const left = document.createElement("div");
        left.className = "topic-name";
        left.textContent = topic.name;

        const right = document.createElement("div");
        right.className = "topic-meta";

        const subtypeCount = topic.subtypes.length;
        const qaCount = topic.subtypes.reduce((acc, s) => acc + (s.qa ? s.qa.length : 0), 0);

        const countBadge = document.createElement("span");
        countBadge.className = "topic-count";
        countBadge.textContent = subtypeCount + " st ¬∑ " + qaCount + " Q&A";

        const chip = document.createElement("span");
        chip.className = "topic-chip";
        chip.textContent = "Casetype";

        right.appendChild(countBadge);
        right.appendChild(chip);

        li.appendChild(left);
        li.appendChild(right);

        li.addEventListener("click", () => setActiveTopic(index));

        topicListEl.appendChild(li);
      });
    }

    function setActiveTopic(index) {
      currentTopicIndex = index;
      currentSearch = "";
      searchInput.value = "";

      Array.from(topicListEl.children).forEach((li, i) => {
        li.classList.toggle("active", i === index);
      });

      const topic = DATA[index];
      const subtypeCount = topic.subtypes.length;
      const qaCount = topic.subtypes.reduce((acc, s) => acc + (s.qa ? s.qa.length : 0), 0);

      contentTitle.textContent = topic.name;
      contentSubtitle.textContent = "Kies een subtype hieronder en open de gewenste vraag/antwoord-combinatie.";
      metaCounts.textContent = subtypeCount + " subtypes ¬∑ " + qaCount + " Q&A";

      renderSubtypes();
    }

    function renderSubtypes() {
      subtypesContainer.innerHTML = "";
      if (currentTopicIndex === -1) {
        const div = document.createElement("div");
        div.className = "empty-state";
        div.textContent = "Nog niets geselecteerd. Kies een onderwerp in de linker kolom.";
        subtypesContainer.appendChild(div);
        return;
      }

      const topic = DATA[currentTopicIndex];

      const normalizedSearch = currentSearch.trim().toLowerCase();

      let totalShownQa = 0;

      topic.subtypes.forEach(subtype => {
        const name = subtype.name;
        const code = subtype.code;
        const qa = subtype.qa || [];

        let filteredQa = qa;
        if (normalizedSearch) {
          filteredQa = filteredQa.filter(item => {
            const haystack = (item.question + " " + item.answer + " " + (item.note || "")).toLowerCase();
            return haystack.includes(normalizedSearch);
          });
          if (filteredQa.length === 0) {
            return;
          }
        }

        const card = document.createElement("section");
        card.className = "subtype-card";

        const header = document.createElement("div");
        header.className = "subtype-header";

        const title = document.createElement("div");
        title.className = "subtype-name";
        title.textContent = name;

        const meta = document.createElement("div");
        meta.className = "subtype-meta";

        const codePill = document.createElement("div");
        codePill.className = "code-pill";

        const codeDot = document.createElement("div");
        codeDot.className = "code-dot";
        codeDot.textContent = code;
        codeDot.title = "Afboekcode: " + code;

        const codeLabel = document.createElement("span");
        codeLabel.textContent = "Afboekcode";

        codePill.appendChild(codeDot);
        codePill.appendChild(codeLabel);

        const qaCountPill = document.createElement("div");
        qaCountPill.className = "qa-count-pill";
        qaCountPill.textContent = qa.length + " Q&A";

        meta.appendChild(codePill);
        meta.appendChild(qaCountPill);

        header.appendChild(title);
        header.appendChild(meta);

        card.appendChild(header);

        const qaContainer = document.createElement("div");
        qaContainer.className = "qa-container";

        if (!filteredQa.length) {
          const empty = document.createElement("div");
          empty.className = "empty-state";
          empty.textContent = "Geen standaard Q&A gekoppeld aan dit subtype.";
          qaContainer.appendChild(empty);
        } else {
          filteredQa.forEach(item => {
            totalShownQa++;

            const qaItem = document.createElement("div");
            qaItem.className = "qa-item";

            const summary = document.createElement("div");
            summary.className = "qa-summary";

            const left = document.createElement("div");
            left.style.display = "flex";
            left.style.flexDirection = "column";
            left.style.gap = "2px";

            const qTitle = document.createElement("div");
            qTitle.className = "qa-question";
            qTitle.textContent = item.question;

            const topicLabel = document.createElement("div");
            topicLabel.className = "qa-topic-label";
            topicLabel.textContent = item.topic || "Algemene Q&A";

            left.appendChild(qTitle);
            left.appendChild(topicLabel);

            const chevron = document.createElement("div");
            chevron.className = "qa-chevron";
            chevron.textContent = "‚ñ∂";

            summary.appendChild(left);
            summary.appendChild(chevron);

            const body = document.createElement("div");
            body.className = "qa-body";
            body.style.display = "none";

            const answer = document.createElement("div");
            answer.className = "qa-answer";
            answer.textContent = item.answer;

            body.appendChild(answer);

            if (item.note) {
              const note = document.createElement("div");
              note.className = "qa-note";
              note.textContent = item.note;
              body.appendChild(note);
            }

            const actions = document.createElement("div");
            actions.className = "qa-actions";

            const sourceText = document.createElement("span");
            sourceText.textContent = "Klik op kopieer om het antwoord direct te plakken in je mail of notitie.";

            const copyBtn = document.createElement("button");
            copyBtn.type = "button";
            copyBtn.className = "copy-btn";
            copyBtn.innerHTML = '<span class="copy-icon">üìã</span><span>Kopieer antwoord</span>';

            copyBtn.addEventListener("click", () => {
              const textToCopy = item.answer + (item.note ? "\n\n" + item.note : "");
              if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                  copyBtn.innerHTML = '<span class="copy-icon">‚úÖ</span><span>Gekopieerd!</span>';
                  setTimeout(() => {
                    copyBtn.innerHTML = '<span class="copy-icon">üìã</span><span>Kopieer antwoord</span>';
                  }, 1400);
                }).catch(() => {
                  window.alert("Kopi√´ren mislukt. Kopieer de tekst handmatig.");
                });
              } else {
                window.alert("Kopi√´ren wordt niet ondersteund in deze browser.");
              }
            });

            actions.appendChild(sourceText);
            actions.appendChild(copyBtn);
            body.appendChild(actions);

            summary.addEventListener("click", () => {
              const isOpen = body.style.display === "block";
              body.style.display = isOpen ? "none" : "block";
              qaItem.classList.toggle("open", !isOpen);
            });

            qaItem.appendChild(summary);
            qaItem.appendChild(body);

            qaContainer.appendChild(qaItem);
          });
        }

        card.appendChild(qaContainer);
        subtypesContainer.appendChild(card);
      });

      if (currentSearch.trim()) {
        contentSubtitle.textContent = 'Gefilterd op: "' + currentSearch.trim() + '" ¬∑ ' + totalShownQa + " resultaten in dit onderwerp.";
      }
    }

    searchInput.addEventListener("input", (e) => {
      currentSearch = e.target.value || "";
      renderSubtypes();
    });

    renderTopics();
    if (DATA.length > 0) {
      setActiveTopic(0);
    }
  </script>
</body>
</html>
